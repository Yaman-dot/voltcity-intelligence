<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VoltCity | Driver</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="top-nav">
        <div class="logo"><i class="fa-solid fa-bolt"></i> VoltCity DRIVER</div>
        <a href="/" class="nav-link">Back to Hub</a>
    </nav>

    <main class="dashboard-content">
        <section class="panel input-panel">
        <h2><i class="fa-solid fa-sliders"></i> Prediction Inputs</h2>
        <form action="/predict" method="POST">
            
            <h3>Vehicle & Location</h3>
            <div class="form-group">
                <label for="vehicle">Vehicle Model</label>
                <select id="vehicle" name="vehicle">
                    <option value="Tesla Model 3">Tesla Model 3</option>
                    <option value="Nissan Leaf">Nissan Leaf</option>
                    <option value="BMW i3">BMW i3</option>
                    <option value="Chevy Bolt">Chevy Bolt</option>
                    <option value="Hyundai Kona">Hyundai Kona</option>
                </select>
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <select id="location" name="location">
                    <option value="Chicago">Chicago</option>
                    <option value="Houston">Houston</option>
                    <option value="Los Angeles">Los Angeles</option>
                    <option value="New York">New York</option>
                    <option value="San Francisco">San Francisco</option>
                </select>
            </div>

            <h3>Session Details</h3>
            <div class="form-row" style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label for="energy">Energy Needed (kWh)</label>
                    <input type="number" step="0.1" id="energy" name="energy" value="45.5" required>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Charging Rate (kW)</label>
                    <input type="number" step="0.1" id="charge_rate" name="charge_rate" value="7.2" required>
                </div>
            </div>

            <div class="form-row" style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Time of Day</label>
                    <select id = "time_day" name="time_day">
                        <option value="2">Morning</option>
                        <option value="0" selected>Afternoon</option>
                        <option value="1">Evening</option>
                        <option value="3">Night</option>
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Day of Week</label>
                    <select id = "day_week" name="day_week">
                        <option value="1">Monday</option>
                        <option value="5">Tuesday</option>
                        <option value="6" selected>Wednesday</option>
                        <option value="4">Thursday</option>
                        <option value="0">Friday</option>
                        <option value="2">Saturday</option>
                        <option value="3">Sunday</option>
                    </select>
                </div>
            </div>

            <h3>Battery & Condition</h3>
            <div class="form-group">
                <label for="battery_cap">Battery Capacity (kWh)</label>
                <input type="number" id="battery_cap" name="battery_cap" value="75">
            </div>

            <div class="form-row" style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Start SoC (%)</label>
                    <input type="number" id = "start_soc" name="start_soc" value="20" min="0" max="100">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Distance Driven (km)</label>
                    <input type="number" id="dist_driven" name="dist_driven" value="50">
                </div>
            </div>

            <div class="form-row" style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Temperature (Â°C)</label>
                    <input type="number" id="temp" name="temp" value="25">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Vehicle Age (Years)</label>
                    <input type="number" step="1" id="age" name="age" value="2">
                </div>
            </div>

            <h3>Profile Type</h3>
            <div class="form-row" style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Charger Type</label>
                    <select id="charger_type" name="charger_type">
                        <option value="1">Level 1</option>
                        <option value="2" selected>Level 2</option>
                        <option value="0">DC Fast Charging</option>
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>User Type</label>
                    <select id="user_type" name="user_type">
                        <option value="1">Commuter</option>
                        <option value="2" selected>Long-Distance Traveler</option>
                        <option value="0">Casual Driver</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="btn-main" style="margin-top: 20px; width: 100%;">Get Prediction</button>
        </form>
    </section>

        <section class="panel output-panel">
            {% if prediction %}
            <div class="result-grid">
                <div class="card">
                    <h3>Results</h3>
                    <div class="stat-box">
                        <div class="stat">
                            <span class="label">Predicted Cost</span>
                            <span class="value">${{ cost }}</span>
                        </div>
                        <div class="stat">
                            <span class="label">Time Diff</span>
                            <span class="value">{{ time }} min</span>
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="placeholder-text">
                <p>Fill out the form to see AI predictions.</p>
            </div>
            {% endif %}
        </section>
    </main>
</body>
</html>